(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3585],{3536:function(e,t,n){"use strict";n.d(t,{$V:function(){return u},EU:function(){return m},MJ:function(){return v},am:function(){return _},vK:function(){return b}});var a=n(5893),l=n(7294),i=n(5005),o=n(8182),s=n(497),r=n.n(s),c=n(718),d=n.n(c);let _=e=>{var t,n,i;let{setButton:o}=e;return(0,a.jsx)(l.Fragment,{children:(0,a.jsx)("div",{className:null!==(t=o.containerClassName)&&void 0!==t?t:"d-inline",children:(0,a.jsx)("button",{className:null!==(n=o.className)&&void 0!==n?n:"btn btn-primary common_button",onClick:o.clickFunction,disabled:null!==(i=o.disabled)&&void 0!==i&&i,children:o.label})})})},u=e=>{var t,n,o,s,r,c,d;let{setButton:_}=e;return(0,a.jsx)(l.Fragment,{children:(0,a.jsx)("div",{className:null!==(n=_.containerClassName)&&void 0!==n?n:"d-inline",children:(0,a.jsxs)(i.Z,{className:null!==(o=_.button.className)&&void 0!==o?o:"",onClick:_.button.clickFunction&&_.button.clickFunction,disabled:null!==(s=_.button.disabled)&&void 0!==s&&s,children:[(0,a.jsx)(_.icon.IconFile,{className:null!==(r=_.icon.className)&&void 0!==r?r:"icon_name"}),(0,a.jsxs)("h6",{className:null!==(c=_.label.className)&&void 0!==c?c:"icon_overlay_mob mt-3",children:[_.label.text," ",(null===(t=_.iconDownload)||void 0===t?void 0:t.IconFile)&&(0,a.jsx)(_.iconDownload.IconFile,{className:null!==(d=_.iconDownload.className)&&void 0!==d?d:"icon_name"})]})]})})})},m=e=>{var t,n,i,o;let{setButton:s}=e;return(0,a.jsx)(l.Fragment,{children:(0,a.jsx)("div",{className:null!==(t=s.containerClassName)&&void 0!==t?t:"d-inline",children:(0,a.jsxs)("button",{className:null!==(n=s.className)&&void 0!==n?n:"btn btn-light",onClick:s.clickFunction,disabled:null!==(i=s.disabled)&&void 0!==i&&i,children:[(0,a.jsx)("input",{type:"radio",className:null!==(o=s.radioClass)&&void 0!==o?o:"",checked:s.isChecked,readOnly:!0}),"\xa0",s.label]})})})},v=e=>{var t,n,i,o;let{setButton:s}=e;return(0,a.jsx)(l.Fragment,{children:(0,a.jsx)("div",{className:null!==(t=s.containerClassName)&&void 0!==t?t:"",children:(0,a.jsxs)("div",{className:null!==(n=s.button.className)&&void 0!==n?n:"".concat(r().deli_course," ").concat(r().zoom_hover_effect),onClick:s.button.clickFunction&&s.button.clickFunction,children:[(0,a.jsx)("div",{className:r().iconspace1,children:(0,a.jsx)(s.icon.IconFile,{className:null!==(i=s.icon.className)&&void 0!==i?i:r().iconnext})}),(0,a.jsx)("h6",{className:null!==(o=s.label.className)&&void 0!==o?o:"".concat(r().deliverable_course_name),children:s.label.text})]})})})},b=e=>{var t,n,i,s;let{setButton:c}=e;return(0,a.jsx)(l.Fragment,{children:(0,a.jsx)("div",{className:null!==(t=c.containerClassName)&&void 0!==t?t:"",children:(0,a.jsx)(o.Z,{className:null!==(n=c.button.className)&&void 0!==n?n:"".concat(r().zoom_hover_effect),onClick:c.button.clickFunction&&c.button.clickFunction,children:(0,a.jsxs)(o.Z.Body,{children:[" ",(0,a.jsx)(c.icon.IconFile,{className:null!==(i=c.icon.className)&&void 0!==i?i:"".concat(d().dlm_addon_icons)}),(0,a.jsx)("div",{className:null!==(s=c.label.className)&&void 0!==s?s:"".concat(d().dlm_text," mt-3"),children:c.label.text})]})})})})}},3585:function(e,t,n){"use strict";n.r(t),n.d(t,{LoginCtx:function(){return C},default:function(){return k}});var a=n(5893),l=n(7294),i=n(1649),o=n(2920),s=n(9576),r=n(9240),c=n(3192),d=n(226),_=n(2937),u=n(3536),m=n(9583),v=n(8130),b=n.n(v),g=()=>{let e=(0,l.useContext)(C),t=window.location.hostname,[n,i]=(0,l.useState)(60),o=(0,l.useCallback)(()=>i(e=>e-1),[]);return(0,l.useEffect)(()=>{n>0&&setTimeout(o,1e3)},[n,o]),(0,l.useEffect)(()=>{let t=t=>{"Enter"===t.key&&(t.preventDefault(),(null==e?void 0:e.OTPBtnShow)?e.sendOTP():null==e||e.login())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e]),(0,a.jsx)(l.Fragment,{children:e&&(0,a.jsxs)("div",{children:["lms.caddcentreglobal.com"===t?(0,a.jsx)("div",{className:"px-4  mt-3",children:(0,a.jsx)(_.PO,{setInput:{id:"email_id",label:"Email Id",value:e.emailId,setValue:e.setEmailId,icon:{IconFile:m.uWG,className:b().icon_prefix_login}}})}):(0,a.jsxs)(d.Z,{defaultActiveKey:"mobilenocnt",id:"uncontrolled-tab-example",className:"mb-5",onSelect:function(t){null==e||e.setActiveTab(null!=t?t:"mobilenocnt"),null==e||e.setOTPBtnShow(!0),null==e||e.setOTPBtnDiabled(!1),null==e||e.setLoginBtnDiabled(!1),null==e||e.setOTP("")},children:[(0,a.jsx)(c.Z,{eventKey:"mobilenocnt",title:"Mobile No",className:"mx-4",children:(0,a.jsx)(_.Y2,{setInput:{id:"mobile_no",label:"Mobile No",value:e.mobileNo,setValue:e.setMobileNo,icon:{IconFile:m.XEH,className:b().icon_prefix_login},maxLength:10}})}),(0,a.jsx)(c.Z,{eventKey:"emailidcnt",title:"E-Mail Id",className:"mx-4",children:(0,a.jsx)(_.PO,{setInput:{id:"email_id",label:"Email Id",value:e.emailId,setValue:e.setEmailId,icon:{IconFile:m.uWG,className:b().icon_prefix_login}}})})]}),e.OTPBtnShow&&(0,a.jsx)(u.am,{setButton:{label:"Get OTP",clickFunction:e.sendOTP,containerClassName:"text-center",disabled:e.OTPBtnDiabled}}),!e.OTPBtnShow&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.uZ,{setInput:{fieldCount:4,id:"user_otp",label:"Enter OTP",setValue:e.setOTP,value:e.OTP}}),(0,a.jsxs)("div",{className:b().resend_otp_btn,children:[(0,a.jsx)(u.am,{setButton:{label:"Verify OTP",clickFunction:e.login,disabled:e.loginBtnDiabled}}),(0,a.jsx)(u.am,{setButton:{label:0===n?"Resend OTP":"Resend in ".concat(n," seconds"),clickFunction:e.sendOTP,disabled:0===n?e.loginBtnDiabled:e.OTPBtnDiabled}})]})]})]})})},p=()=>{let e=window.location.hostname;return(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(o.Ix,{newestOnTop:!0,theme:"colored",autoClose:5e3}),(0,a.jsx)("section",{className:b().loginBackground,children:(0,a.jsx)("div",{className:b().login,children:(0,a.jsxs)("div",{className:b().loginbox,children:[(0,a.jsx)(r.yA,{setImage:{containerClassName:b().logoheader,className:"lms.iidesign.co.in"===e?b().logo_iid:b().logo_login}}),(0,a.jsx)(g,{})]})})})]})},h=n(3450),f=n(3855),x=n(6154),N=n(6319);let O=(0,N.oM)({name:"UpdateCounterAction",initialState:{},reducers:{loadAppLogs:(e,t)=>{var n,a,l,i;e.status=null!==(n=t.payload.status)&&void 0!==n?n:void 0,e.message=null!==(a=t.payload.message)&&void 0!==a?a:void 0,e.error_count=null!==(l=t.payload.error_count)&&void 0!==l?l:void 0,e.data=null!==(i=t.payload.data)&&void 0!==i?i:void 0}}}),{loadAppLogs:T}=O.actions;O.reducer;var y=n(1163),S=n.n(y),j=n(1411);let C=(0,l.createContext)(null);var k=()=>{var e,t;let n=(0,i.I0)(),r=(0,s.en)("token"),c=Number((0,s.en)("course_title_code_id")),d=String((0,s.en)("referral_code")),_=String((0,s.en)("centre_code_url")).toUpperCase(),u=window.location.hostname,[m,v]=(0,l.useState)(null),[b,g]=(0,l.useState)(""),[N,O]=(0,l.useState)(""),[y,k]="lms.caddcentreglobal.com"===u?(0,l.useState)("email"):(0,l.useState)("mobilenocnt"),[E,P]=(0,l.useState)(!1),[I,D]=(0,l.useState)(!0),[w,A]=(0,l.useState)(""),[B,F]=(0,l.useState)(!1),[L,M]="mobilenocnt"===y?[Number(b),"inContact"]:[N,"email"];(0,s.qy)({variable:"user_id_type",storeData:M});let[R,q]=(0,l.useState)(""),[U,X]=(0,l.useState)(""),[H,V]=(0,l.useState)(""),[Z,J]=(0,l.useState)(""),[K,z]=(0,l.useState)(""),[W,Y]=(0,l.useState)(""),[G,Q]=(0,l.useState)(""),[$,ee]=(0,l.useState)(""),[et,en]=(0,l.useState)({os:"",version:"",device:""}),ea=(0,i.v9)(e=>e.DynamicMenuSlice);(0,l.useEffect)(()=>{fetch("https://geolocation-db.com/json/").then(e=>e.json()).then(e=>{q(e.IPv4),X(e.country_code),V(e.city),J(e.postal),z(e.state)}).catch(e=>console.log(e))},[]);let el=async()=>{let e=await x.Z.get("https://api.ipify.org/?format=json");ee(e.data.ip)};async function ei(){await (0,s.tk)("https://api.caddcentre.com/api/current_app_version",{package_name:u}).then(e=>{n((0,f._q)(e))})}if((0,l.useEffect)(()=>{el()},[]),(0,l.useEffect)(()=>{var e,t;let n,a,l;let i=(n=navigator.userAgent,a="",l="",-1!==n.search("Windows")?(a="Windows",l=(null===(e=n.match(/Windows NT (\d+\.\d+)/))||void 0===e?void 0:e[1])||""):-1!==n.search("Mac")?(a="MacOS",l=(null===(t=n.match(/Mac OS X (\d+_\d+)/))||void 0===t?void 0:t[1])||""):-1===n.search("X11")||-1!==n.search("Linux")?-1!==n.search("Linux")&&-1!==n.search("X11")&&(a="Linux"):a="UNIX",{os:a,version:l,device:(()=>{let e=window.screen.width;return e<768?"Mobile":e<1024?"Tablet":"Desktop"})()});en(i)},[]),(0,l.useEffect)(()=>{ea&&(null==ea?void 0:ea.status)||ei()},[ea]),200===ea.status){let e=null==ea?void 0:ea.data;(0,s.qy)({variable:"master_app_id",storeData:null==e?void 0:null===(t=e[0])||void 0===t?void 0:t.master_app_id})}let eo=(0,i.v9)(e=>e.CentreListSlice),es=new URLSearchParams(window.location.search),er=null===(e=es.get("c"))||void 0===e?void 0:e.toUpperCase();async function ec(){if(P(!0),L){if((0,s.He)(L,M)){let e=o.Am.info("Sending OTP...",{position:o.Am.POSITION.BOTTOM_CENTER}),t=await (0,s.tk)("https://partner.caddcentre.com/public/api/otp.php",{user_id:L});if(200===t.status)"undefined"!==er&&void 0!==er&&ev(),o.Am.update(e,{render:"OTP sent successfully",type:o.Am.TYPE.SUCCESS,isLoading:!1,closeOnClick:!0,pauseOnHover:!0,position:o.Am.POSITION.BOTTOM_CENTER}),D(!1),(0,s.qy)({variable:"registration_status",storeData:t.registration_status}),(0,s.qy)({variable:"user_id_log",storeData:String(L)});else{P(!1);let t="inContact"===M?"Mobile number is not Registered":"Email-id is not Registered";e&&o.Am.update(e,{render:t,type:o.Am.TYPE.ERROR,isLoading:!1,closeOnClick:!0,pauseOnHover:!0,autoClose:5e3,position:o.Am.POSITION.BOTTOM_CENTER})}}else{let e="inContact"===M?"Please enter valid Mobile number":"Please enter valid Email-id";P(!1),o.Am.error(e,{isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnHover:!0,position:o.Am.POSITION.BOTTOM_CENTER})}}else{let e="inContact"===M?"Please enter Mobile number":"Please enter Email-id";P(!1),o.Am.error(e,{isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnHover:!0,position:o.Am.POSITION.BOTTOM_CENTER})}}async function ed(){let e=(0,s.en)("token");await (0,s.tk)((0,s.Aq)("API_URL")+"app_logs",{device:et.device,operating_system:et.os,operating_system_version:et.version,ip_address:R,master_app_version:"1.1",country_short_code:U,administrative_area:K,locality:H,sub_locality:"",postal_code:Z,token:e}).then(e=>{n(T(e)),v(e)})}async function e_(){if(F(!0),4!==w.length||isNaN(Number(w)))o.Am.error("Please enter a valid OTP",{position:o.Am.POSITION.BOTTOM_CENTER}),F(!1);else{let e=o.Am.info("Trying to login...",{position:o.Am.POSITION.BOTTOM_CENTER}),t=Number((0,s.en)("registration_status")),a=await (0,s.tk)("https://api.caddcentre.com/api/login",{user_id:L,password:Number(w)});if(200===a.status){if(1===t){let t=a.data;(0,s.qy)([{variable:"token",storeData:t.token},{variable:"student_user_id",storeData:t.id},{variable:"student_email_id",storeData:t.email_id},{variable:"student_registration_no",storeData:t.student_id_no},{variable:"student_contact_no",storeData:t.contact_no},{variable:"student_first_name",storeData:t.first_name},{variable:"student_last_name",storeData:t.last_name},{variable:"student_color_code",storeData:t.color_code},{variable:"student_care_email_id",storeData:t.student_care_email_id},{variable:"student_care_contact_no",storeData:t.student_care_contact_no},{variable:"referral_company_code",storeData:t.referral_company_code},{variable:"log_state_id",storeData:t.master_state_id},{variable:"login_updated_at",storeData:t.login_updated_at},{variable:"login_status",storeData:"1"},{variable:"logo",storeData:t.logo}]),S().push("/dashboard"),localStorage.setItem("student_profile_picture",t.profile_picture);let l=(0,s.en)("token");await (0,s.tk)("https://api.caddcentre.com/api/free_course",{token:l,source:"free_courses"}).then(e=>{n((0,j.RX)(e)),v(e)}),o.Am.update(e,{render:"Student loggedin successfully",type:o.Am.TYPE.SUCCESS,isLoading:!1,closeOnClick:!0,pauseOnHover:!0,autoClose:5e3,position:o.Am.POSITION.BOTTOM_CENTER})}else S().push("/student_registration"),Number(L)?(0,s.qy)({variable:"verify_mobile",storeData:w}):(0,s.qy)({variable:"verify_email",storeData:w})}else o.Am.error("Incorrect OTP",{position:o.Am.POSITION.BOTTOM_CENTER}),F(!1)}}(0,l.useEffect)(()=>{"1"===(0,s.en)("login_status")&&S().push("/dashboard")}),(0,l.useEffect)(()=>{ev()},[er]),(0,l.useEffect)(()=>{g(""),O("")},[y]),(0,l.useEffect)(()=>{if(200===eo.status){var e,t,n,a,l,i;(0,s.qy)({variable:"centre_code_url",storeData:null==eo?void 0:null===(e=eo.data[0])||void 0===e?void 0:e.centre_code}),(0,s.qy)({variable:"centre_code_url_name",storeData:null==eo?void 0:null===(t=eo.data[0])||void 0===t?void 0:t.centre_name}),(0,s.qy)({variable:"centre_code_url_userid",storeData:null==eo?void 0:null===(n=eo.data[0])||void 0===n?void 0:n.partner_user_id}),(0,s.qy)({variable:"centre_code_url_centre_address",storeData:null==eo?void 0:null===(a=eo.data[0])||void 0===a?void 0:a.centre_address}),(0,s.qy)({variable:"centre_code_url_centre_email_id",storeData:null==eo?void 0:null===(l=eo.data[0])||void 0===l?void 0:l.centre_email_id}),(0,s.qy)({variable:"centre_code_url_centre_contact_no",storeData:null==eo?void 0:null===(i=eo.data[0])||void 0===i?void 0:i.centre_contact_no})}else 404===eo.status&&(0,s.qy)({variable:"centre_code_url",storeData:""})});let eu=String((0,s.en)("referral_company_code")),em=("null"!==eu&&null!==eu&&"NULL"!==eu?eu:"")||("null"!==d&&null!==d&&"NULL"!==d&&""!==d?d:"")||("null"!==_&&null!==_&&"NULL"!==_?_:"");async function ev(){er?(0,s.tk)("https://api.caddcentre.com/api/centre_list",{token:r,centre_code:er,master_division_id:1,...em&&{chosen_user_company:em},...em&&{course_title_code_id:c}}).then(e=>{e.status&&(200!==e.status?(alert("Your Referral Link Provided is Invalid"),S().push("/login"),localStorage.clear()):((0,s.qy)({variable:"centre_code_link",storeData:String(er)}),n((0,h.$I)(e))))}):S().push("/login")}return(0,a.jsx)(l.Fragment,{children:(0,a.jsx)(C.Provider,{value:{mobileNo:b,setMobileNo:g,emailId:N,setEmailId:O,setActiveTab:k,sendOTP:ec,OTPBtnDiabled:E,setOTPBtnDiabled:P,OTPBtnShow:I,setOTPBtnShow:D,OTP:w,setOTP:A,login:e_,loginBtnDiabled:B,setLoginBtnDiabled:F,centreListData:ev,myAppLogs:ed},children:(0,a.jsx)(p,{})})})}},497:function(e){e.exports={card_content_elevation:"deliverable_card_content_elevation__oSAxJ",header_content:"deliverable_header_content__61Phu",course_name:"deliverable_course_name__7Wzd_",course_registration_date:"deliverable_course_registration_date__UX81K",time_duration:"deliverable_time_duration__S23N3",box:"deliverable_box__JMhwb",schedule_content:"deliverable_schedule_content__vB6PV",status_content:"deliverable_status_content__ScXVO",status_content_video:"deliverable_status_content_video__N4OaH",status_content_join:"deliverable_status_content_join__PH_YE","btn-warning":"deliverable_btn-warning__KZBX6","btn-info":"deliverable_btn-info__tp3qB",main_deliverables:"deliverable_main_deliverables___PPWa",deli_course:"deliverable_deli_course__BxmKv",iconspace1:"deliverable_iconspace1__iAVZA",iconnext:"deliverable_iconnext__m2kCN",zoom_hover_effect:"deliverable_zoom_hover_effect__fFDKi",deliverable_course_name:"deliverable_deliverable_course_name__Xw1ce",card_content_deli:"deliverable_card_content_deli__iBImw",deli_card:"deliverable_deli_card__u6dJC"}},718:function(e){e.exports={"dlm-addons":"dlm_dlm-addons__2nJVS",dlm_text:"dlm_dlm_text__y20zG",dlm_addon_icons:"dlm_dlm_addon_icons__69IxQ",dlm_books:"dlm_dlm_books__jJeUq",dlm_no_ebook:"dlm_dlm_no_ebook__LcwVH",modal_sheet_header:"dlm_modal_sheet_header__eChjJ",close_btn:"dlm_close_btn__XX_yM",icon_color:"dlm_icon_color__JctUq","list-group-item":"dlm_list-group-item__DpBIl",main_dlm:"dlm_main_dlm__Rgyhi"}},8130:function(e){e.exports={login:"login_login__UiE7x",loginbox:"login_loginbox__xRYCs",loginBackground:"login_loginBackground__Eg7Oe",logoheader:"login_logoheader__4ufgS",logo_login:"login_logo_login__zF_aU",logo_iid:"login_logo_iid__9v7pu","header-login":"login_header-login__6pHSs",resend_otp_btn:"login_resend_otp_btn__c_y1l",account:"login_account___tR5_",new_registration:"login_new_registration__8RgZR",icon_prefix_login:"login_icon_prefix_login__TQiOP"}}}]);